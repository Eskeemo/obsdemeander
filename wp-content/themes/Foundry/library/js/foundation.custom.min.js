!function($,t,e,a){"use strict";function i(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var s=function(t){for(var e=t.length,a=$("head");e--;)0===a.has("."+t[e]).length&&a.append('<meta class="'+t[e]+'" />')};s(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),$(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof e.body&&FastClick.attach(e.body)});var n=function(t,a){if("string"==typeof t){if(a){var i;if(a.jquery){if(i=a[0],!i)return a}else i=a;return $(i.querySelectorAll(t))}return $(e.querySelectorAll(t))}return $(t,a)},r=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},o=function(t){for(var e=t.split("-"),a=e.length,i=[];a--;)0!==a?i.push(e[a]):this.namespace.length>0?i.push(this.namespace,e[a]):i.push(e[a]);return i.reverse().join("-")},l=function(t,e){var a=this,i=!n(this).data(this.attr_name(!0));return n(this.scope).is("["+this.attr_name()+"]")?(n(this.scope).data(this.attr_name(!0)+"-init",$.extend({},this.settings,e||t,this.data_options(n(this.scope)))),i&&this.events(this.scope)):n("["+this.attr_name()+"]",this.scope).each(function(){var i=!n(this).data(a.attr_name(!0)+"-init");n(this).data(a.attr_name(!0)+"-init",$.extend({},a.settings,e||t,a.data_options(n(this)))),i&&a.events(this)}),"string"==typeof t?this[t].call(this,e):void 0},d=function(t,e){function a(){e(t[0])}function i(){if(this.one("load",a),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?a():i.call(t)):void a()};t.matchMedia=t.matchMedia||function(t){var e,a=t.documentElement,i=a.firstElementChild||a.firstChild,s=t.createElement("body"),n=t.createElement("div");return n.id="mq-test-1",n.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(n),function(t){return n.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(s,i),e=42===n.offsetWidth,a.removeChild(s),{matches:e,media:t}}}(e),function(e){function a(){i&&(r(a),l&&e.fx.tick())}for(var i,s=0,n=["webkit","moz"],r=t.requestAnimationFrame,o=t.cancelAnimationFrame,l="undefined"!=typeof e.fx;s<n.length&&!r;s++)r=t[n[s]+"RequestAnimationFrame"],o=o||t[n[s]+"CancelAnimationFrame"]||t[n[s]+"CancelRequestAnimationFrame"];r?(t.requestAnimationFrame=r,t.cancelAnimationFrame=o,l&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!i&&(i=!0,a())},e.fx.stop=function(){i=!1})):(t.requestAnimationFrame=function(e){var a=(new Date).getTime(),i=Math.max(0,16-(a-s)),n=t.setTimeout(function(){e(a+i)},i);return s=a+i,n},t.cancelAnimationFrame=function(t){clearTimeout(t)})}($),t.Foundation={name:"Foundation",version:"5.5.0",media_queries:{small:n(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":n(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:n(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":n(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:n(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":n(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:n(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":n(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:n(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:$("<style></style>").appendTo("head")[0].sheet,global:{namespace:a},init:function(e,a,i,s,r){var o=[e,i,s,r],l=[];if(this.rtl=/rtl/i.test(n("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),a&&"string"==typeof a&&!/reflow/i.test(a))this.libs.hasOwnProperty(a)&&l.push(this.init_lib(a,o));else for(var d in this.libs)l.push(this.init_lib(d,a));return n(t).load(function(){n(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),e},init_lib:function(t,e){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),e&&e.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?$.extend(!0,this.libs[t].settings,e[t]):"undefined"!=typeof this.libs[t].defaults&&$.extend(!0,this.libs[t].defaults,e[t]),this.libs[t].init.apply(this.libs[t],[this.scope,e[t]])):(e=e instanceof Array?e:new Array(e),this.libs[t].init.apply(this.libs[t],e))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=r,t.add_namespace=o,t.bindings=l,t.S=this.utils.S},inherit:function(t,e){for(var a=e.split(" "),i=a.length;i--;)this.utils.hasOwnProperty(a[i])&&(t[a[i]]=this.utils[a[i]])},set_namespace:function(){var t=this.global.namespace===a?$(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===a||/false/i.test(t)?"":t},libs:{},utils:{S:n,throttle:function(t,e){var a=null;return function(){var i=this,s=arguments;null==a&&(a=setTimeout(function(){t.apply(i,s),a=null},e))}},debounce:function(t,e,a){var i,s;return function(){var n=this,r=arguments,o=function(){i=null,a||(s=t.apply(n,r))},l=a&&!i;return clearTimeout(i),i=setTimeout(o,e),l&&(s=t.apply(n,r)),s}},data_options:function(t,e){function a(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function i(t){return"string"==typeof t?$.trim(t):t}e=e||"options";var s={},n,r,o,l=function(t){var a=Foundation.global.namespace;return t.data(a.length>0?a+"-"+e:e)},d=l(t);if("object"==typeof d)return d;for(o=(d||":").split(";"),n=o.length;n--;)r=o[n].split(":"),r=[r[0],r.slice(1).join(":")],/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),a(r[1])&&(r[1]=-1===r[1].indexOf(".")?parseInt(r[1],10):parseFloat(r[1])),2===r.length&&r[0].length>0&&(s[i(r[0])]=i(r[1]));return s},register_media:function(t,e){Foundation.media_queries[t]===a&&($("head").append('<meta class="'+e+'"/>'),Foundation.media_queries[t]=i($("."+e).css("font-family")))},add_custom_rule:function(t,e){if(e===a&&Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[e];i!==a&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},image_loaded:function(t,e){var a=this,i=t.length;0===i&&e(t),t.each(function(){d(a.S(this),function(){i-=1,0===i&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(e){return t.matchMedia(e).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},$.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document),function($,t,e,a){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.0",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(t,e,a){Foundation.inherit(this,"add_custom_rule register_media throttle");var i=this;i.register_media("topbar","foundation-mq-topbar"),this.bindings(e,a),i.S("["+this.attr_name()+"]",this.scope).each(function(){var t=$(this),e=t.data(i.attr_name(!0)+"-init"),a=i.S("section, .top-bar-section",this);t.data("index",0);var s=t.parent();s.hasClass("fixed")||i.is_sticky(t,s,e)?(i.settings.sticky_class=e.sticky_class,i.settings.sticky_topbar=t,t.data("height",s.outerHeight()),t.data("stickyoffset",s.offset().top)):t.data("height",t.outerHeight()),e.assembled||i.assemble(t),e.is_hover?i.S(".has-dropdown",t).addClass("not-click"):i.S(".has-dropdown",t).removeClass("not-click"),i.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),s.hasClass("fixed")&&i.S("body").addClass("f-topbar-fixed")})},is_sticky:function(t,e,a){var i=e.hasClass(a.sticky_class);return i&&"all"===a.sticky_on?!0:i&&this.small()&&"small"===a.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:i&&this.medium()&&"medium"===a.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:i&&this.large()&&"large"===a.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1},toggle:function(e){var a=this,i;i=e?a.S(e).closest("["+this.attr_name()+"]"):a.S("["+this.attr_name()+"]");var s=i.data(this.attr_name(!0)+"-init"),n=a.S("section, .top-bar-section",i);a.breakpoint()&&(a.rtl?(n.css({right:"0%"}),$(">.name",n).css({right:"100%"})):(n.css({left:"0%"}),$(">.name",n).css({left:"100%"})),a.S("li.moved",n).removeClass("moved"),i.data("index",0),i.toggleClass("expanded").css("height","")),s.scrolltop?i.hasClass("expanded")?i.parent().hasClass("fixed")&&(s.scrolltop?(i.parent().removeClass("fixed"),i.addClass("fixed"),a.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):i.parent().removeClass("expanded")):i.hasClass("fixed")&&(i.parent().addClass("fixed"),i.removeClass("fixed"),a.S("body").addClass("f-topbar-fixed")):(a.is_sticky(i,i.parent(),s)&&i.parent().addClass("fixed"),i.parent().hasClass("fixed")&&(i.hasClass("expanded")?(i.addClass("fixed"),i.parent().addClass("expanded"),a.S("body").addClass("f-topbar-fixed")):(i.removeClass("fixed"),i.parent().removeClass("expanded"),a.update_sticky_positioning())))},timer:null,events:function(e){var a=this,i=this.S;i(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),a.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(t){var e=$(this).closest("li");!a.breakpoint()||e.hasClass("back")||e.hasClass("has-dropdown")||a.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var e=i(this),s=i(t.target),n=e.closest("["+a.attr_name()+"]"),r=n.data(a.attr_name(!0)+"-init");return s.data("revealId")?void a.toggle():void(a.breakpoint()||(!r.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),e.hasClass("hover")?(e.removeClass("hover").find("li").removeClass("hover"),e.parents("li.hover").removeClass("hover")):(e.addClass("hover"),$(e).siblings().removeClass("hover"),"A"===s[0].nodeName&&s.parent().hasClass("has-dropdown")&&t.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(a.breakpoint()){t.preventDefault();var e=i(this),s=e.closest("["+a.attr_name()+"]"),n=s.find("section, .top-bar-section"),r=e.next(".dropdown").outerHeight(),o=e.closest("li");s.data("index",s.data("index")+1),o.addClass("moved"),a.rtl?(n.css({right:-(100*s.data("index"))+"%"}),n.find(">.name").css({right:100*s.data("index")+"%"})):(n.css({left:-(100*s.data("index"))+"%"}),n.find(">.name").css({left:100*s.data("index")+"%"})),s.css("height",e.siblings("ul").outerHeight(!0)+s.data("height"))}}),i(t).off(".topbar").on("resize.fndtn.topbar",a.throttle(function(){a.resize.call(a)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){i(this).trigger("resize.fndtn.topbar")}),i("body").off(".topbar").on("click.fndtn.topbar",function(t){var e=i(t.target).closest("li").closest("li.hover");e.length>0||i("["+a.attr_name()+"] li.hover").removeClass("hover")}),i(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var e=i(this),s=e.closest("["+a.attr_name()+"]"),n=s.find("section, .top-bar-section"),r=s.data(a.attr_name(!0)+"-init"),o=e.closest("li.moved"),l=o.parent();s.data("index",s.data("index")-1),a.rtl?(n.css({right:-(100*s.data("index"))+"%"}),n.find(">.name").css({right:100*s.data("index")+"%"})):(n.css({left:-(100*s.data("index"))+"%"}),n.find(">.name").css({left:100*s.data("index")+"%"})),0===s.data("index")?s.css("height",""):s.css("height",l.outerHeight(!0)+s.data("height")),setTimeout(function(){o.removeClass("moved")},300)}),i(this.scope).find(".dropdown a").focus(function(){$(this).parents(".has-dropdown").addClass("hover")}).blur(function(){$(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var a=t.S(this),i=a.data(t.attr_name(!0)+"-init"),s=a.parent("."+t.settings.sticky_class),n;if(!t.breakpoint()){var r=a.hasClass("expanded");a.css("height","").removeClass("expanded").find("li").removeClass("hover"),r&&t.toggle(a)}t.is_sticky(a,s,i)&&(s.hasClass("fixed")?(s.removeClass("fixed"),n=s.offset().top,t.S(e.body).hasClass("f-topbar-fixed")&&(n-=a.data("height")),a.data("stickyoffset",n),s.addClass("fixed")):(n=s.offset().top,a.data("stickyoffset",n)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var e=this,a=t.data(this.attr_name(!0)+"-init"),i=e.S("section, .top-bar-section",t);i.detach(),e.S(".has-dropdown>a",i).each(function(){var t=e.S(this),i=t.siblings(".dropdown"),s=t.attr("href"),n;i.find(".title.back").length||(n=$(1==a.mobile_show_parent_link&&s?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link show-for-small-only"><a class="parent-link js-generated" href="'+s+'">'+t.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),$("h5>a",n).html(1==a.custom_back_text?a.back_text:"&laquo; "+t.html()),i.prepend(n))}),i.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),$.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var e=0,a=this;return $("> li",t).each(function(){e+=a.S(this).outerHeight(!0)}),e},sticky:function(){var e=this;this.S(t).on("scroll",function(){e.update_sticky_positioning()})},update_sticky_positioning:function(){var e="."+this.settings.sticky_class,a=this.S(t),i=this;if(i.settings.sticky_topbar&&i.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var s=this.settings.sticky_topbar.data("stickyoffset");i.S(e).hasClass("expanded")||(a.scrollTop()>s?i.S(e).hasClass("fixed")||(i.S(e).addClass("fixed"),i.S("body").addClass("f-topbar-fixed")):a.scrollTop()<=s&&i.S(e).hasClass("fixed")&&(i.S(e).removeClass("fixed"),i.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function($,t,e,a){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.0",settings:{open_method:"move",close_on_click:!1},init:function(t,e,a){this.bindings(e,a)},events:function(){var t=this,e=t.S,a="",i="",s="";"move"===this.settings.open_method?(a="move-",i="right",s="left"):"overlap_single"===this.settings.open_method?(a="offcanvas-overlap-",i="right",s="left"):"overlap"===this.settings.open_method&&(a="offcanvas-overlap"),e(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(s){t.click_toggle_class(s,a+i),"overlap"!==t.settings.open_method&&e(".left-submenu").removeClass(a+i),$(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(s){var n=t.get_settings(s),r=e(this).parent();!n.close_on_click||r.hasClass("has-submenu")||r.hasClass("back")?e(this).parent().hasClass("has-submenu")?(s.preventDefault(),e(this).siblings(".left-submenu").toggleClass(a+i)):r.hasClass("back")&&(s.preventDefault(),r.parent().removeClass(a+i)):(t.hide.call(t,a+i,t.get_wrapper(s)),r.parent().removeClass(a+i)),$(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(i){t.click_toggle_class(i,a+s),"overlap"!==t.settings.open_method&&e(".right-submenu").removeClass(a+s),$(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(i){var n=t.get_settings(i),r=e(this).parent();!n.close_on_click||r.hasClass("has-submenu")||r.hasClass("back")?e(this).parent().hasClass("has-submenu")?(i.preventDefault(),e(this).siblings(".right-submenu").toggleClass(a+s)):r.hasClass("back")&&(i.preventDefault(),r.parent().removeClass(a+s)):(t.hide.call(t,a+s,t.get_wrapper(i)),r.parent().removeClass(a+s)),$(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(n){t.click_remove_class(n,a+s),e(".right-submenu").removeClass(a+s),i&&(t.click_remove_class(n,a+i),e(".left-submenu").removeClass(a+s)),$(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(e){t.click_remove_class(e,a+s),$(".left-off-canvas-toggle").attr("aria-expanded","false"),i&&(t.click_remove_class(e,a+i),$(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(t,e){e=e||this.get_wrapper(),e.is("."+t)?this.hide(t,e):this.show(t,e)},show:function(t,e){e=e||this.get_wrapper(),e.trigger("open").trigger("open.fndtn.offcanvas"),e.addClass(t)},hide:function(t,e){e=e||this.get_wrapper(),e.trigger("close").trigger("close.fndtn.offcanvas"),e.removeClass(t)},click_toggle_class:function(t,e){t.preventDefault();var a=this.get_wrapper(t);this.toggle(e,a)},click_remove_class:function(t,e){t.preventDefault();var a=this.get_wrapper(t);this.hide(e,a)},get_settings:function(t){var e=this.S(t.target).closest("["+this.attr_name()+"]");return e.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(t){var e=this.S(t?t.target:this.scope).closest(".off-canvas-wrap");return 0===e.length&&(e=this.S(".off-canvas-wrap")),e},reflow:function(){}}}(jQuery,window,window.document),function($,t,e,a){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.0",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,e,a){if(/IMG/.test(t[0].nodeName)){var i=t[0].src;if(new RegExp(e,"i").test(i))return;return t[0].src=e,a(t[0].src)}var s=t.data(this.data_attr+"-last-path"),n=this;if(s!=e)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(e)?($(t).css("background-image","url("+e+")"),t.data("interchange-last-path",e),a(e)):$.get(e,function(i){t.html(i),t.data(n.data_attr+"-last-path",e),a()})}}},init:function(t,e,a){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),$.extend(!0,this.settings,e,a),this.bindings(e,a),this.load("images"),this.load("nodes")},get_media_hash:function(){var t="";for(var e in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[e]).matches.toString();return t},events:function(){var e=this,a;return $(t).off(".interchange").on("resize.fndtn.interchange",e.throttle(function(){var t=e.get_media_hash();t!==a&&e.resize(),a=t},50)),this},resize:function(){var t=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout($.proxy(this.resize,this),50);for(var e in t)if(t.hasOwnProperty(e)){var a=this.results(e,t[e]);a&&this.settings.directives[a.scenario[1]].call(this,a.el,a.scenario[0],function(){if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments,0);a.el.trigger(a.scenario[1],t)})}},results:function(t,e){var a=e.length;if(a>0)for(var i=this.S("["+this.add_namespace("data-uuid")+'="'+t+'"]');a--;){var s,n=e[a][2];if(s=matchMedia(this.settings.named_queries.hasOwnProperty(n)?this.settings.named_queries[n]:n),s.matches)return{el:i,scenario:e[a]}}return!1},load:function(t,e){return("undefined"==typeof this["cached_"+t]||e)&&this["update_"+t](),this["cached_"+t]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),e=t.length,a=e,i=0,s=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===e;a--;){if(i++,t[a]){var n=t[a].getAttribute(s)||"";n.length>0&&this.cached_images.push(t[a])}i===e&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var t=this.S("["+this.data_attr+"]").not("img"),e=t.length,a=e,i=0,s=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===e;a--;){i++;var n=t[a].getAttribute(s)||"";n.length>0&&this.cached_nodes.push(t[a]),i===e&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(e){for(var a=this["cached_"+e].length;a--;)this.object($(this["cached_"+e][a]));return $(t).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},parse_scenario:function(t){var e=t[0].match(/(.+),\s*(\w+)\s*$/),a=t[1];if(e)var i=e[1],s=e[2];else var n=t[0].split(/,\s*$/),i=n[0],s="";return[this.trim(i),this.convert_directive(s),this.trim(a)]},object:function(t){var e=this.parse_data_attr(t),a=[],i=e.length;if(i>0)for(;i--;){var s=e[i].split(/\(([^\)]*?)(\))$/);if(s.length>1){var n=this.parse_scenario(s);a.push(n)}}return this.store(t,a)},store:function(t,e){var a=this.random_str(),i=t.data(this.add_namespace("uuid",!0));return this.cache[i]?this.cache[i]:(t.attr(this.add_namespace("data-uuid"),a),this.cache[a]=e)},trim:function(t){return"string"==typeof t?$.trim(t):t},set_data_attr:function(t){return t?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(t){for(var e=t.attr(this.attr_name()).split(/\[(.*?)\]/),a=e.length,i=[];a--;)e[a].replace(/[\W\d]+/,"").length>4&&i.push(e[a]);return i},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document);